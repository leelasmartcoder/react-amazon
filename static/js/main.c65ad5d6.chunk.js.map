{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","Payment.js","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","price","rating","image","dispatch","Array","fill","map","_","i","item","Home","CheckoutProduct","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","log","Payment","setDisabled","useStripe","useElements","onSubmit","empty","promise","loadStripe","App","useEffect","onAuthStateChanged","authUser","exact","path","stripe","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c65ad5d6.chunk.js","sourcesContent":["import React, {createContext, useContext, useReducer} from 'react';\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState,children }) =>(\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n);\nexport const useStateValue = () => useContext(StateContext);","import firebase from 'firebase';\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAqwCeK-Pll9EgOUYFO14XOZDwy-cQI4qQ\",\n    authDomain: \"fir-a7364.firebaseapp.com\",\n    databaseURL: \"https://fir-a7364-default-rtdb.firebaseio.com\",\n    projectId: \"fir-a7364\",\n    storageBucket: \"fir-a7364.appspot.com\",\n    messagingSenderId: \"873488333374\",\n    appId: \"1:873488333374:web:0294b3de944e323f61ef6f\",\n    measurementId: \"G-F6Z2G31HH0\"\n  };\n  const firebaseApp = firebase.initializeApp(firebaseConfig);\n\n  const db = firebaseApp.firestore();\n  const auth =firebase.auth();\n\n  export {db, auth};","import React from 'react';\nimport HeaderCss from './HeaderCss.css';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingBasketIcon  from '@material-ui/icons/ShoppingBasket';\nimport { Link } from 'react-router-dom';\nimport { useStateValue } from './StateProvider';\nimport { auth } from './firebase';\n\n\nexport default function Header() {\n    const [{ basket, user }, dispatch] =useStateValue();\n    const handleAuthentication = () =>{\n        if(user){\n            auth.signOut();\n        }\n    } \n\n    return(\n        <>\n        <div className=\"header\">\n            <Link to =\"/\">\n            <img src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\n            className=\"header__logo\"\n            alt=\"logo\"/>\n            </Link>\n\n          <div className=\"header__search\">\n            <input type =\"text\"  className=\"header__searchInput\"/>\n            <SearchIcon className=\"header__searchIcon\"/>\n          </div>\n        \n        <div className=\"header__nav\">\n        <Link to ={!user && \"/login\"}>\n            <div onClick={handleAuthentication} className=\"header__option\">\n                \n                <span \n                className=\"header__optionLineOne\">Hello {user ?  user?.email : \"Guest\" }</span>\n                <span className=\"header__optionLineTwo\">{user ? \"sign Out\" :\"Sign In\"}</span>\n                \n            </div>\n            </Link>\n            <div className=\"header__option\">\n                <span \n                className=\"header__optionLineOne\">Returns</span>\n                <span className=\"header__optionLineTwo\">& Orders</span>\n            </div>\n            <div className=\"header__option\">\n                <span \n                className=\"header__optionLineOne\">Your</span>\n                <span className=\"header__optionLineTwo\">Prime</span>\n            </div>\n            <Link to=\"/checkout\">\n            <div className=\"header__optionBasket\">\n                <ShoppingBasketIcon className=\"\"/>\n                <span className=\"header__optionLineTwo header__basketCount\">\n                {basket?.length}\n                </span>  \n            </div>\n            </Link>\n        </div>    \n        </div>\n        </>\n    )\n}","import React from 'react';\nimport prodeuctCss from './ProductCss.css';\nimport StarOutlineIcon from '@material-ui/icons/StarOutline';\nimport StarIcon from '@material-ui/icons/Star';\nimport { useStateValue } from './StateProvider';\n\nexport default function Product({ id,title, price, rating, image}){\n\n    const [ {basket}, dispatch] = useStateValue();\n\n    const addToBasket = () => {\n    \n        dispatch({\n            type:\"ADD_TO_BASKET\",\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating,\n            },\n\n        });\n    }\n    return(\n        <>\n        <div className=\"product\">\n            <div className=\"product__info\">\n                <p>{title}</p>\n                <p className=\"product__price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n            \n            <div className=\"product__rating\">\n                {Array(rating)\n                .fill()\n                .map((_,i)=>(\n                <p><StarIcon/></p>\n                ))}\n               \n            </div>\n            </div>\n            <img\n            src={image}\n            alt=\"\"/>\n            <button onClick={addToBasket} >Add To Basket</button>\n            \n            \n        </div>\n        </>\n    )\n}","import React from 'react';\nimport HomeCss from './HomeCss.css';\nimport Product from './Product';\n\nexport default function Home(){\n    return(\n        <>\n        <div className=\"home\">\n            <div className=\"home__container\">\n                <img \n                 \n                 src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\n                 alt=\"\" \n                 className=\"home__image\"/>\n           \n               <div className=\"home__row\">\n                 <Product \n                    id=\"12321341\"\n                    title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\" \n                    price={20} \n                    rating={4} \n                    image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg\" />\n\n                 <Product id=\"49538094\"\n                    title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\n                    price={239.0}\n                    rating={4}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"/>\n               </div>\n\n               <div className=\"home__row\">\n                   \n                 <Product id=\"4903850\"\n                    title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\n                    price={199.99}\n                    rating={3}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"/>\n                 <Product id=\"23445930\"\n                    title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\n                    price={98.99}\n                    rating={5}\n                    image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"/>\n                 <Product id=\"3254354345\"\n                    title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\n                    price={598.99}\n                    rating={4}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"/>\n               </div>\n               <div className=\"home__row\">\n                 <Product id=\"90829332\"\n                    title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\n                    price={1094.98}\n                    rating={4}\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"/>\n                 \n               </div>\n            </div>\n        </div>\n        </>\n    )\n} \n\n\n","import React from 'react';\nimport StarIcon from '@material-ui/icons/Star';\nimport { useStateValue } from './StateProvider';\nimport CheckoutProductCss from './CheckoutProductCss.css';\n\n\nexport default function CheckoutProduct( {id, image, title, price, rating} ) {\n    \n    const [ {basket}, dispatch] = useStateValue();\n\n    const removeFromBasket =() =>{\n        dispatch({\n            type:\"REMOVE_FROM_BASKET\",\n             id:id,\n        })\n\n    }\n    return(\n    <>\n    <div className=\"checkoutproduct\">\n        <img src={image} alt=\"\" className=\"checkoutproduct__image\"/>\n        <div className=\"checkoutproduct__info\">\n            <p className=\"checkoutproduct__title\">\n                {title}\n            </p>\n            <p className=\"checkoutproduct__price\">\n                <small>$</small>\n                <strong>{price}\n                </strong></p>\n\n         <div className=\"checkoutproduct__rating\">\n                {Array(rating)\n                .fill()\n                .map((_,i)=>(\n                <p><StarIcon/></p>\n                ))}\n               \n         </div>\n         <button onClick={removeFromBasket}>Remove From Basket</button>\n\n        </div>\n\n\n    </div>\n    </>\n    )\n}","export const initialState   = {\n    basket:[],\n    user: null\n};\n//selector\nexport const getBasketTotal = (basket) =>\nbasket?.reduce((amount,item) => item.price + amount, 0);\n\n    const reducer =(state, action) =>{\n        switch(action.type){\n            case \"ADD_TO_BASKET\":\n               return {\n                    ...state,\n                    basket:[...state.basket, action.item],\n                };\n            case \"REMOVE_FROM_BASKET\":\n                    const index = state.basket.findIndex(\n                        (basketItem) => basketItem.id === action.id\n                        \n                    );\n                let newBasket = [...state.basket];\n\n                if(index >= 0) {\n                    newBasket.splice(index, 1);\n\n\n\n                }\n                else {\n                    console.warn(\n                        `cant remove product (id: ${action.id}) as its not in basket!`\n                    )\n                }\n                return{\n                    ...state,\n                    basket: newBasket\n\n                }\n            case 'SET_USER':\n                return{\n                    ...state,\n                    user:action.user\n                }\n \n            default:\n                return state;\n    }\n};\nexport default reducer;\n","import React from 'react';\nimport CurrencyFormat from 'react-currency-format';\nimport { getBasketTotal } from './reducer';\nimport { useStateValue } from './StateProvider';\nimport SubtotalCss from './SubtotalCss.css';\nimport {useHistory} from 'react-router-dom';\n\nexport default function Subtotal(){\n    const [ {basket}, dispatch] = useStateValue();\n\n    const history = useHistory();\n\n    return(\n        <>\n        <div className=\"subtotal\">\n            <CurrencyFormat \n            renderText={(value) =>(\n                <>\n                <p>Subtotal ({basket?.length} items):\n                    <strong>{value}</strong>\n                </p>\n                <small className=\"subtotal__gift\">\n                    <input type =\"checkbox\"/>\n                    This order contains a gift\n                </small>\n                </>\n\n            )}\n            decimalScale={2}\n            value={getBasketTotal(basket)}\n            displayType={\"text\"}\n            thousandSeparator={true}\n            prefix={\"$\"}\n            />\n         <button onClick ={e =>history.push('/payment')}>Proceed to Checkout</button>\n\n        </div>\n        </>\n    );\n}","import React from 'react';\nimport CheckoutCss from './CheckoutCss.css';\nimport CheckoutProduct from './CheckoutProduct';\n\nimport { useStateValue } from './StateProvider';\nimport Subtotal from './Subtotal';\n\nexport default function Checkout(){\n    const [{ basket, user }, dispatch] = useStateValue();\n    return(\n        <>\n        <h3>Hello, {user?.email}</h3>\n        <div className=\"checkout\">\n           <div className=\"checkout__left\">\n               <img className=\"checkout__ad\" \n               src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n                alt=\"\"/>         \n           <div >\n               <h2 className=\"checkout__title\">Your shopping Basket</h2>\n\n               {basket.map(item => (\n               <CheckoutProduct \n               id = {item.id}\n               title = {item.title}\n               image = {item.image}\n               price = {item.price}\n               rating = {item.rating}\n               />\n               ))}\n\n           </div>\n           </div>\n           <div className=\"checkout__right\">\n               <h2><Subtotal/></h2>\n           </div>\n        </div>\n        </>\n    );\n}","import React,{useState} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport LoginCss from './LoginCss.css';\nimport { auth } from './firebase';\nimport userEvent from '@testing-library/user-event';\n\n\nexport default function Login() {\n    const history = useHistory();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const signIn = e =>{\n        e.preventDefault();\n        \n        auth.signInWithEmailAndPassword(email,password)\n        .then(auth =>{\n            history.push('/');\n        })\n        .catch(error=>alert(error.message))\n    }\n\n    const register = e=>{\n        e.preventDefault();\n\n        auth.createUserWithEmailAndPassword(email,password)\n        .then((auth)=>{\n            console.log(auth);\n            if(auth){\n                history.push('/')\n            }\n        })\n        .catch(error => alert(error.message))\n    }\n\n    return(\n        <>\n        <div className=\"login\">\n            <Link to =\"/\">\n            <img className=\"login__logo\" \n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n            alt=\"\" />\n            </Link>\n\n        <div className=\"login__container\">\n            <h1>Sign-In</h1>\n            <form>\n                <h5>Email</h5>\n                <input type=\"text\" value={email} onChange={e => setEmail(e.target.value)}  />\n\n                <h5>Password</h5>\n                <input type =\"password\" value={password} onChange={e => setPassword(e.target.value)}/>\n\n                <button type =\"submit\" className=\"login__signInButton\" onClick={signIn}>Sign In</button>\n            </form>\n            <p> By signing-in you agree to Amazon's conditions of use & sale. Please see our Privacy Notice, our Cookies Notice and Interest-Based Ad's Notice</p>\n            <button type=\"submit\" className=\"login__registerButton\" onClick={register}> Create Your Amazon Account</button>\n        </div>    \n        </div>\n        </>\n    )\n}","import React,{useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport CheckoutProduct from './CheckoutProduct';\nimport PaymentCss from './PaymentCss.css';\nimport  { useStateValue } from './StateProvider';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\n\nexport default function Payment(){\n    const [{basket, user}, dispatch] = useStateValue();\n    const [processing, setProcessing] = useState(null);\n    const [disabled, setDisabled]  = useState(true);\n\n    const stripe = useStripe(); \n    const elements = useElements();\n\n    const handleSubmit = (e) =>{\n\n    }\n    const handleChange = e =>{\n        setDisabled(e.empty);\n        \n    }\n\n    return(\n        <>\n        <div className=\"payment\">\n            <div className=\"payment__container\">\n            <h1>Checkout (<Link to =\"/checkout\"> {basket?.length} items </Link>) </h1>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className=\"payment__address\">\n                        <p>{user?.email}</p>\n                        <p>8101 Towne Main DR</p>\n                        <p>Plano, TX-75024.</p>\n                    </div>\n                 </div>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Review Items And Delivery </h3>\n                    </div>\n                    <div className=\"payment__items\">\n                     {basket.map(item => (\n                      <CheckoutProduct \n                      id = {item.id}\n                      title = {item.title}\n                      image = {item.image}\n                      price = {item.price}\n                      rating = {item.rating}\n                      />\n                    ))}\n                    </div>\n                </div>   \n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment__details\">\n                        <form onSubmit ={handleSubmit}>\n                            <CardElement onChange = {handleChange}/>\n                        </form>\n\n                    </div>\n\n                </div>\n                \n                \n\n            </div>\n           \n        </div>\n        </>\n\n    );\n}","\nimport react,{ useEffect } from 'react';\nimport Header from './Header';\nimport Home from './Home';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom' ;\nimport Checkout from './Checkout';\nimport Login from './Login';\nimport { auth } from './firebase';\nimport { useStateValue } from './StateProvider';\nimport Payment from './Payment';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\n\n\nconst promise = loadStripe(\"pk_test_51IgDa4E06QcZ7SmQMXJD6LoRlgTmnEeMlOrqRBBL3NeWAqB5JEFM8tsqN4iHe9jjVZO1zh3ZaWIf3EcWlSep1SKH00RkrEubGN\");\n\n\nfunction App() {\n  const [{}, dispatch] = useStateValue();\n  useEffect(() => {\n   \n    auth.onAuthStateChanged(authUser => {\n      console.log('the user is ', authUser);\n\n      if(authUser) {\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n\n      }\n      else{\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n\n      }\n    })\n   \n  }, [])\n  return (\n    <Router>\n    <div className=\"App\">\n      \n      <Switch>\n        <Route exact path=\"/\">   \n          <Header/>\n          <Home/>\n        </Route>\n        <Route path =\"/login\">\n          <Login/>\n        </Route>\n        <Route path=\"/checkout\"> \n          <Header/>\n          <Checkout/>\n        </Route>\n        <Route path =\"/payment\">\n          <Header/>\n          <Elements stripe={promise}>\n            <Payment/>\n          </Elements>\n        </Route>\n      </Switch>    \n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './StateProvider';\nimport reducer,{initialState} from './reducer';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}